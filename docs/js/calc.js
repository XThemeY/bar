"use strict";

document.addEventListener('DOMContentLoaded', function () {
  var sliderGuest = document.querySelector("#slider-guests");
  var sliderDrink = document.querySelector("#slider-drinks");
  var sliderHours = document.querySelector("#slider-hours");
  var inputOptions = document.querySelectorAll("#calc-form input[name=option]");
  var inputDishes = document.querySelectorAll("#calc-form input[name=dishes]");
  var inputFurniture = document.querySelectorAll("#calc-form input[name=furniture]");
  var totalPrice = document.querySelector("#totalprice");
  var totalSum = 0;
  var rangeSum = getTotalSum();
  var inputSum = 0;
  setTotalSum();
  inputOptions.forEach(function (input) {
    input.onchange = function () {
      if (this.checked) {
        inputSum = inputSum + parseInt(this.value);
      } else {
        inputSum = inputSum - parseInt(this.value);
      }

      setTotalSum();
    };
  });
  var prevDishes = null;
  inputDishes.forEach(function (input) {
    input.onchange = function () {
      inputSum = inputSum + parseInt(this.value);

      if (prevDishes) {
        inputSum = inputSum - parseInt(prevDishes.value);
      }

      if (this !== prevDishes) {
        prevDishes = this;
      }

      setTotalSum();
    };
  });
  var prevFurniture = null;
  inputFurniture.forEach(function (input) {
    input.onchange = function () {
      inputSum = inputSum + parseInt(this.value);

      if (prevFurniture) {
        inputSum = inputSum - parseInt(prevFurniture.value);
      }

      if (this !== prevFurniture) {
        prevFurniture = this;
      }

      setTotalSum();
    };
  });

  function sliderGuestSum() {
    return sliderGuest.dataset.cost * sliderGuest.value;
  }

  function sliderDrinkSum() {
    return sliderDrink.dataset.cost * sliderDrink.value;
  }

  function sliderHoursSum() {
    return sliderHours.dataset.cost * sliderHours.value;
  }

  sliderGuest.onchange = function () {
    rangeSum = getTotalSum();
    setTotalSum();
  };

  sliderDrink.onchange = function () {
    rangeSum = getTotalSum();
    setTotalSum();
  };

  sliderHours.onchange = function () {
    rangeSum = getTotalSum();
    setTotalSum();
  };

  function getTotalSum() {
    return sliderHoursSum() + sliderDrinkSum() + sliderGuestSum();
  }

  function setTotalSum() {
    totalSum = rangeSum + inputSum;
    totalPrice.textContent = totalSum.toString() + " руб.";
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbGMuanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwic2xpZGVyR3Vlc3QiLCJxdWVyeVNlbGVjdG9yIiwic2xpZGVyRHJpbmsiLCJzbGlkZXJIb3VycyIsImlucHV0T3B0aW9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dERpc2hlcyIsImlucHV0RnVybml0dXJlIiwidG90YWxQcmljZSIsInRvdGFsU3VtIiwicmFuZ2VTdW0iLCJnZXRUb3RhbFN1bSIsImlucHV0U3VtIiwic2V0VG90YWxTdW0iLCJmb3JFYWNoIiwiaW5wdXQiLCJvbmNoYW5nZSIsImNoZWNrZWQiLCJwYXJzZUludCIsInZhbHVlIiwicHJldkRpc2hlcyIsInByZXZGdXJuaXR1cmUiLCJzbGlkZXJHdWVzdFN1bSIsImRhdGFzZXQiLCJjb3N0Iiwic2xpZGVyRHJpbmtTdW0iLCJzbGlkZXJIb3Vyc1N1bSIsInRleHRDb250ZW50IiwidG9TdHJpbmciXSwibWFwcGluZ3MiOiI7O0FBQUFBLFFBQVEsQ0FBQ0MsZ0JBQVQsQ0FBMEIsa0JBQTFCLEVBQThDLFlBQVk7QUFDekQsTUFBTUMsV0FBVyxHQUFHRixRQUFRLENBQUNHLGFBQVQsQ0FBdUIsZ0JBQXZCLENBQXBCO0FBQ0EsTUFBTUMsV0FBVyxHQUFHSixRQUFRLENBQUNHLGFBQVQsQ0FBdUIsZ0JBQXZCLENBQXBCO0FBQ0EsTUFBTUUsV0FBVyxHQUFHTCxRQUFRLENBQUNHLGFBQVQsQ0FBdUIsZUFBdkIsQ0FBcEI7QUFDQSxNQUFNRyxZQUFZLEdBQUdOLFFBQVEsQ0FBQ08sZ0JBQVQsQ0FBMEIsK0JBQTFCLENBQXJCO0FBQ0EsTUFBTUMsV0FBVyxHQUFHUixRQUFRLENBQUNPLGdCQUFULENBQTBCLCtCQUExQixDQUFwQjtBQUNBLE1BQU1FLGNBQWMsR0FBR1QsUUFBUSxDQUFDTyxnQkFBVCxDQUEwQixrQ0FBMUIsQ0FBdkI7QUFDQSxNQUFNRyxVQUFVLEdBQUdWLFFBQVEsQ0FBQ0csYUFBVCxDQUF1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YyxLQUFLRCxjQUFjLEVBQWpDLEdBQXNDSCxjQUFjLEVBQTNEO0FBQ0E7O0FBRUQsV0FBU1QsV0FBVCxHQUF1QjtBQUN0QkosSUFBQUEsUUFBUSxHQUFHQyxRQUFRLEdBQUdFLFFBQXRCO0FBQ0FKLElBQUFBLFVBQVUsQ0FBQ21CLFdBQVgsR0FBeUJsQixRQUFRLENBQUNtQixRQUFULEtBQXNCLE9BQS9DO0FBQ0E7QUFDRCxDQXhGRCIsInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcblx0Y29uc3Qgc2xpZGVyR3Vlc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NsaWRlci1ndWVzdHNcIilcclxuXHRjb25zdCBzbGlkZXJEcmluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2xpZGVyLWRyaW5rc1wiKVxyXG5cdGNvbnN0IHNsaWRlckhvdXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzbGlkZXItaG91cnNcIilcclxuXHRjb25zdCBpbnB1dE9wdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2NhbGMtZm9ybSBpbnB1dFtuYW1lPW9wdGlvbl1cIilcclxuXHRjb25zdCBpbnB1dERpc2hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjY2FsYy1mb3JtIGlucHV0W25hbWU9ZGlzaGVzXVwiKVxyXG5cdGNvbnN0IGlucHV0RnVybml0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNjYWxjLWZvcm0gaW5wdXRbbmFtZT1mdXJuaXR1cmVdXCIpXHJcblx0Y29uc3QgdG90YWxQcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdG90YWxwcmljZVwiKVxyXG5cdGxldCB0b3RhbFN1bSA9IDA7XHJcblx0bGV0IHJhbmdlU3VtID0gZ2V0VG90YWxTdW0oKTtcclxuXHRsZXQgaW5wdXRTdW0gPSAwO1xyXG5cclxuXHRzZXRUb3RhbFN1bSgpXHJcblx0aW5wdXRPcHRpb25zLmZvckVhY2goKGlucHV0KSA9PiB7XHJcblx0XHRpbnB1dC5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHRoaXMuY2hlY2tlZCkge1xyXG5cdFx0XHRcdGlucHV0U3VtID0gaW5wdXRTdW0gKyBwYXJzZUludCh0aGlzLnZhbHVlKVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlucHV0U3VtID0gaW5wdXRTdW0gLSBwYXJzZUludCh0aGlzLnZhbHVlKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZXRUb3RhbFN1bSgpO1xyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG5cdGxldCBwcmV2RGlzaGVzID0gbnVsbDtcclxuXHRpbnB1dERpc2hlcy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG5cdFx0aW5wdXQub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlucHV0U3VtID0gaW5wdXRTdW0gKyBwYXJzZUludCh0aGlzLnZhbHVlKVxyXG5cdFx0XHRpZiAocHJldkRpc2hlcykge1xyXG5cdFx0XHRcdGlucHV0U3VtID0gaW5wdXRTdW0gLSBwYXJzZUludChwcmV2RGlzaGVzLnZhbHVlKVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0aGlzICE9PSBwcmV2RGlzaGVzKSB7XHJcblx0XHRcdFx0cHJldkRpc2hlcyA9IHRoaXM7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNldFRvdGFsU3VtKCk7XHJcblx0XHR9XHJcblx0fSlcclxuXHJcblx0bGV0IHByZXZGdXJuaXR1cmUgPSBudWxsO1xyXG5cdGlucHV0RnVybml0dXJlLmZvckVhY2goKGlucHV0KSA9PiB7XHJcblx0XHRpbnB1dC5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aW5wdXRTdW0gPSBpbnB1dFN1bSArIHBhcnNlSW50KHRoaXMudmFsdWUpXHJcblx0XHRcdGlmIChwcmV2RnVybml0dXJlKSB7XHJcblx0XHRcdFx0aW5wdXRTdW0gPSBpbnB1dFN1bSAtIHBhcnNlSW50KHByZXZGdXJuaXR1cmUudmFsdWUpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMgIT09IHByZXZGdXJuaXR1cmUpIHtcclxuXHRcdFx0XHRwcmV2RnVybml0dXJlID0gdGhpcztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2V0VG90YWxTdW0oKTtcclxuXHRcdH1cclxuXHR9KVxyXG5cclxuXHRmdW5jdGlvbiBzbGlkZXJHdWVzdFN1bSgpIHtcclxuXHRcdHJldHVybiBzbGlkZXJHdWVzdC5kYXRhc2V0LmNvc3QgKiBzbGlkZXJHdWVzdC52YWx1ZTtcclxuXHR9XHJcblx0ZnVuY3Rpb24gc2xpZGVyRHJpbmtTdW0oKSB7XHJcblx0XHRyZXR1cm4gc2xpZGVyRHJpbmsuZGF0YXNldC5jb3N0ICogc2xpZGVyRHJpbmsudmFsdWU7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIHNsaWRlckhvdXJzU3VtKCkge1xyXG5cdFx0cmV0dXJuIHNsaWRlckhvdXJzLmRhdGFzZXQuY29zdCAqIHNsaWRlckhvdXJzLnZhbHVlO1xyXG5cdH1cclxuXHJcblx0c2xpZGVyR3Vlc3Qub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyYW5nZVN1bSA9IGdldFRvdGFsU3VtKClcclxuXHRcdHNldFRvdGFsU3VtKClcclxuXHR9XHJcblxyXG5cdHNsaWRlckRyaW5rLm9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmFuZ2VTdW0gPSBnZXRUb3RhbFN1bSgpXHJcblx0XHRzZXRUb3RhbFN1bSgpXHJcblx0fVxyXG5cclxuXHRzbGlkZXJIb3Vycy5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJhbmdlU3VtID0gZ2V0VG90YWxTdW0oKVxyXG5cdFx0c2V0VG90YWxTdW0oKVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0VG90YWxTdW0oKSB7XHJcblx0XHRyZXR1cm4gc2xpZGVySG91cnNTdW0oKSArIHNsaWRlckRyaW5rU3VtKCkgKyBzbGlkZXJHdWVzdFN1bSgpXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBzZXRUb3RhbFN1bSgpIHtcclxuXHRcdHRvdGFsU3VtID0gcmFuZ2VTdW0gKyBpbnB1dFN1bVxyXG5cdFx0dG90YWxQcmljZS50ZXh0Q29udGVudCA9IHRvdGFsU3VtLnRvU3RyaW5nKCkgKyBcIiDRgNGD0LEuXCJcclxuXHR9XHJcbn0pIl0sImZpbGUiOiJjYWxjLmpzIn0=
