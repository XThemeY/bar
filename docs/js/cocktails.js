"use strict";

document.addEventListener('DOMContentLoaded', function () {
  var cartDelBtns = document.getElementsByClassName('delete');
  var itemAddBtn = document.querySelectorAll('.item-order button');
  var itemList = document.querySelector('.cart-items-list');
  var cocktailAmountBtns = document.querySelectorAll('.item-amount');
  var cocktailsList = document.querySelectorAll('.cocktails-list__item');
  renderCartItem();
  addEventsToDelBtns();
  itemAddBtn.forEach(function (btn) {
    btn.addEventListener('click', function (e) {
      var cart = e.target.closest('.item-order').querySelector('.item-amount').value;
      var name = e.target.closest('.cocktails-list__item').querySelector(".item-title").textContent;

      if (cart !== '0' && !localStorage.getItem(cart)) {
        localStorage.setItem(name, cart);
      }

      renderCartItem();
      addEventsToDelBtns();
    });
  });

  function renderCartItem() {
    itemList.innerHTML = '';

    for (var i = 0; i < localStorage.length; i++) {
      itemList.insertAdjacentHTML('afterbegin', "<div class=\"cart-item\">\n\t\t\t<div class=\"cocktail-title\">".concat(localStorage.key(i), "</div>\n\t\t\t<input class=\"cocktail-amount\" type=\"number\" size=\"1\" value=").concat(localStorage.getItem(localStorage.key(i)), ">\n\t\t\t<div class=\"delete\"></div>\n\t\t  </div>"));
    }
  }

  function addEventsToDelBtns() {
    for (var i = 0; i < cartDelBtns.length; i++) {
      cartDelBtns[i].addEventListener("click", function (e) {
        var itemTitle = e.target.parentNode.querySelector(".cocktail-title").textContent;
        localStorage.removeItem(itemTitle);
        e.target.parentNode.remove();
        cocktailsList.forEach(function (item) {
          if (itemTitle === item.querySelector(".item-title").textContent) {
            item.querySelector(".item-amount").value = 0;
          }
        });
      });
    }
  }

  cocktailAmountBtns.forEach(function (input) {
    input.addEventListener('input', function (e) {
      var itemTitle = e.target.closest('.cocktails-list__item').querySelector(".item-title").textContent;

      if (e.target.value !== "0") {
        localStorage.setItem(itemTitle, e.target.value);
        renderCartItem();
        addEventsToDelBtns();
      } else {
        localStorage.removeItem(itemTitle);
        renderCartItem();
        addEventsToDelBtns();
      }
    });
  });

  for (var i = 0; i < localStorage.length; i++) {
    cocktailsList.forEach(function (item) {
      if (item.querySelector(".item-title").textContent === localStorage.key(i)) {
        item.querySelector(".item-amount").value = localStorage.getItem(localStorage.key(i));
      }
    });
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvY2t0YWlscy5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjYXJ0RGVsQnRucyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpdGVtQWRkQnRuIiwicXVlcnlTZWxlY3RvckFsbCIsIml0ZW1MaXN0IiwicXVlcnlTZWxlY3RvciIsImNvY2t0YWlsQW1vdW50QnRucyIsImNvY2t0YWlsc0xpc3QiLCJyZW5kZXJDYXJ0SXRlbSIsImFkZEV2ZW50c1RvRGVsQnRucyIsImZvckVhY2giLCJidG4iLCJlIiwiY2FydCIsInRhcmdldCIsImNsb3Nlc3QiLCJ2YWx1ZSIsIm5hbWUiLCJ0ZXh0Q29udGVudCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwiaW5uZXJIVE1MIiwiaSIsImxlbmd0aCIsImluc2VydEFkamFjZW50SFRNTCIsImtleSIsIml0ZW1UaXRsZSIsInBhcmVudE5vZGUiLCJyZW1vdmVJdGVtIiwicmVtb3ZlIiwiaXRlbSIsImlucHV0Il0sIm1hcHBpbmdzIjoiOztBQUFBQSxRQUFRLENBQUNDLGdCQUFULENBQTBCLGtCQUExQixFQUE4QyxZQUFZO0FBQ3pELE1BQU1DLFdBQVcsR0FBSUYsUUFBUSxDQUFDRyxzQkFBVCxDQUFnQyxRQUFoQyxDQUFyQjtBQUNBLE1BQU1DLFVBQVUsR0FBR0osUUFBUSxDQUFDSyxnQkFBVCxDQUEwQixvQkFBMUIsQ0FBbkI7QUFDQSxNQUFNQyxRQUFRLEdBQUdOLFFBQVEsQ0FBQ08sYUFBVCxDQUF1QixrQkFBdkIsQ0FBakI7QUFDQSxNQUFNQyxrQkFBa0IsR0FBR1IsUUFBUSxDQUFDSyxnQkFBVCxDQUEwQixjQUExQixDQUEzQjtBQUNBLE1BQU1JLGFBQWEsR0FBR1QsUUFBUSxDQUFDSyxnQkFBVCxDQUEwQix1QkFBMUIsQ0FBdEI7QUFFQUssRUFBQUEsY0FBYztBQUNkQyxFQUFBQSxrQkFBa0I7QUFDbEJQLEVBQUFBLFVBQVUsQ0FBQ1EsT0FBWCxDQUFtQixV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O0FBQ2xCLE9BSkQsTUFJTztBQUNOVSxRQUFBQSxZQUFZLENBQUNVLFVBQWIsQ0FBd0JGLFNBQXhCO0FBQ0FuQixRQUFBQSxjQUFjO0FBQ2RDLFFBQUFBLGtCQUFrQjtBQUNsQjtBQUVELEtBWkQ7QUFjQSxHQWZEOztBQWdCQSxPQUFLLElBQUljLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdKLFlBQVksQ0FBQ0ssTUFBakMsRUFBeUNELENBQUMsRUFBMUMsRUFBOEM7QUFDN0NoQixJQUFBQSxhQUFhLENBQUNHLE9BQWQsQ0FBc0IsVUFBQ3FCLElBQUQsRUFBVTtBQUMvQixVQUFJQSxJQUFJLENBQUMxQixhQUFMLENBQW1CLGFBQW5CLEVBQWtDYSxXQUFsQyxLQUFrREMsWUFBWSxDQUFDTyxHQUFiLENBQWlCSCxDQUFqQixDQUF0RCxFQUEyRTtBQUMxRVEsUUFBQUEsSUFBSSxDQUFDMUIsYUFBTCxDQUFtQixjQUFuQixFQUFtQ1csS0FBbkMsR0FBMkNHLFlBQVksQ0FBQ0MsT0FBYixDQUFxQkQsWUFBWSxDQUFDTyxHQUFiLENBQWlCSCxDQUFqQixDQUFyQixDQUEzQztBQUNBO0FBQ0QsS0FKRDtBQU1BO0FBR0QsQ0ExRUQiLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG5cdGNvbnN0IGNhcnREZWxCdG5zID0gKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RlbGV0ZScpKVxyXG5cdGNvbnN0IGl0ZW1BZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaXRlbS1vcmRlciBidXR0b24nKVxyXG5cdGNvbnN0IGl0ZW1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcnQtaXRlbXMtbGlzdCcpXHJcblx0Y29uc3QgY29ja3RhaWxBbW91bnRCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLml0ZW0tYW1vdW50JylcclxuXHRjb25zdCBjb2NrdGFpbHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvY2t0YWlscy1saXN0X19pdGVtJylcclxuXHJcblx0cmVuZGVyQ2FydEl0ZW0oKVxyXG5cdGFkZEV2ZW50c1RvRGVsQnRucygpXHJcblx0aXRlbUFkZEJ0bi5mb3JFYWNoKChidG4pID0+IHtcclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdGxldCBjYXJ0ID0gZS50YXJnZXQuY2xvc2VzdCgnLml0ZW0tb3JkZXInKS5xdWVyeVNlbGVjdG9yKCcuaXRlbS1hbW91bnQnKS52YWx1ZVxyXG5cdFx0XHRsZXQgbmFtZSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5jb2NrdGFpbHMtbGlzdF9faXRlbScpLnF1ZXJ5U2VsZWN0b3IoXCIuaXRlbS10aXRsZVwiKS50ZXh0Q29udGVudFxyXG5cdFx0XHRpZiAoY2FydCAhPT0gJzAnICYmICFsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjYXJ0KSkge1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIGNhcnQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJlbmRlckNhcnRJdGVtKClcclxuXHRcdFx0YWRkRXZlbnRzVG9EZWxCdG5zKClcclxuXHRcdH0pXHJcblx0fSlcclxuXHJcblx0ZnVuY3Rpb24gcmVuZGVyQ2FydEl0ZW0oKSB7XHJcblx0XHRpdGVtTGlzdC5pbm5lckhUTUwgPSAnJ1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aXRlbUxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgYDxkaXYgY2xhc3M9XCJjYXJ0LWl0ZW1cIj5cclxuXHRcdFx0PGRpdiBjbGFzcz1cImNvY2t0YWlsLXRpdGxlXCI+JHtsb2NhbFN0b3JhZ2Uua2V5KGkpfTwvZGl2PlxyXG5cdFx0XHQ8aW5wdXQgY2xhc3M9XCJjb2NrdGFpbC1hbW91bnRcIiB0eXBlPVwibnVtYmVyXCIgc2l6ZT1cIjFcIiB2YWx1ZT0ke2xvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU3RvcmFnZS5rZXkoaSkpfT5cclxuXHRcdFx0PGRpdiBjbGFzcz1cImRlbGV0ZVwiPjwvZGl2PlxyXG5cdFx0ICA8L2Rpdj5gKTtcclxuXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBhZGRFdmVudHNUb0RlbEJ0bnMoKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGNhcnREZWxCdG5zLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNhcnREZWxCdG5zW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdGNvbnN0IGl0ZW1UaXRsZSA9IGUudGFyZ2V0LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihcIi5jb2NrdGFpbC10aXRsZVwiKS50ZXh0Q29udGVudFxyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGl0ZW1UaXRsZSlcclxuXHRcdFx0XHRlLnRhcmdldC5wYXJlbnROb2RlLnJlbW92ZSgpXHRcdFx0XHRcclxuXHRcdFx0XHRjb2NrdGFpbHNMaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0XHRcdGlmIChpdGVtVGl0bGUgPT09IGl0ZW0ucXVlcnlTZWxlY3RvcihcIi5pdGVtLXRpdGxlXCIpLnRleHRDb250ZW50KSB7XHJcblx0XHRcdFx0XHRcdGl0ZW0ucXVlcnlTZWxlY3RvcihcIi5pdGVtLWFtb3VudFwiKS52YWx1ZSA9IDBcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvY2t0YWlsQW1vdW50QnRucy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xyXG5cdFx0XHRjb25zdCBpdGVtVGl0bGUgPSBlLnRhcmdldC5jbG9zZXN0KCcuY29ja3RhaWxzLWxpc3RfX2l0ZW0nKS5xdWVyeVNlbGVjdG9yKFwiLml0ZW0tdGl0bGVcIikudGV4dENvbnRlbnRcclxuXHRcdFx0aWYgKGUudGFyZ2V0LnZhbHVlICE9PSBcIjBcIikge1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKGl0ZW1UaXRsZSwgZS50YXJnZXQudmFsdWUpXHJcblx0XHRcdFx0cmVuZGVyQ2FydEl0ZW0oKVxyXG5cdFx0XHRcdGFkZEV2ZW50c1RvRGVsQnRucygpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaXRlbVRpdGxlKVxyXG5cdFx0XHRcdHJlbmRlckNhcnRJdGVtKClcclxuXHRcdFx0XHRhZGRFdmVudHNUb0RlbEJ0bnMoKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSlcclxuXHJcblx0fSlcclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0Y29ja3RhaWxzTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRcdGlmIChpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuaXRlbS10aXRsZVwiKS50ZXh0Q29udGVudCA9PT0gbG9jYWxTdG9yYWdlLmtleShpKSkge1xyXG5cdFx0XHRcdGl0ZW0ucXVlcnlTZWxlY3RvcihcIi5pdGVtLWFtb3VudFwiKS52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU3RvcmFnZS5rZXkoaSkpXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblxyXG5cdH1cclxuXHJcblxyXG59KSJdLCJmaWxlIjoiY29ja3RhaWxzLmpzIn0=
