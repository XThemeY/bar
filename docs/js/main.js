"use strict";

document.addEventListener('DOMContentLoaded', function () {
  var toggleMenu = document.querySelector(".toggle-menu");
  var sideMenu = document.querySelector('.header-sidemenu');
  var overlay = document.querySelector('#overlay');
  var body = document.querySelector('body');
  toggleMenu.addEventListener('click', function () {
    this.classList.toggle('active');
    sideMenu.classList.toggle('active');
    overlay.classList.toggle('active');
  });

  function menuBurgerToggle(type) {
    if (type === "resize") {
      toggleMenu.classList.remove('active');
    } else {
      toggleMenu.classList.toggle('active');
    }
  } //Скрыть по клику оверлея


  overlay.addEventListener('click', function () {
    menuBurgerToggle('click');
    sideMenu.classList.remove('active');
    this.classList.remove('active');
    body.classList.remove('noScroll');
  });
  sideMenu.addEventListener('click', function () {
    menuBurgerToggle('click');
    this.classList.remove('active');
    overlay.classList.remove('active');
    body.classList.remove('noScroll');
  }); //Ресайз окна, убрать оверлей и бургер

  window.addEventListener('resize', function () {
    sideMenu.classList.remove('active');
    toggleMenu.classList.remove('active');
    overlay.classList.remove('active');
    menuBurgerToggle('resize');
  }); //Вызов модального окна

  var orderCallBtns = document.querySelectorAll('button[data-makecall]');
  var modalCloseBtns = document.querySelectorAll('button[data-modalclose]');
  modalCloseBtns.forEach(function (btn) {
    btn.addEventListener('click', function () {
      document.querySelector('.modal-wrapper').classList.remove('active');
    });
  });
  document.querySelector(".modal-wrapper").addEventListener('click', function (e) {
    if (!e.target.closest('.modal')) {
      document.querySelector('.modal-wrapper').classList.remove('active');
    }
  });
  orderCallBtns.forEach(function (btn) {
    btn.addEventListener('click', function () {
      document.querySelector('.modal-wrapper').classList.add('active');
    });
  });
  var modalSubmitBtn = document.querySelector('#modal__submit');
  modalSubmitBtn.addEventListener("click", function (event) {
    event.preventDefault();
  }); //mixItUp plugin

  var cocktailList = document.querySelector("#cocktails-list");

  if (cocktailList) {
    mixitup('#cocktails-list', {
      classNames: {
        block: ""
      }
    });
  }

  var sliders = document.querySelectorAll(".slider-ui");
  sliders.forEach(function (slider) {
    var input = slider.querySelector("input[type=range]");
    var min = input.getAttribute("min");
    var max = input.getAttribute("max");
    var valueElem = slider.querySelector(".value");
    var slidersMarkUps = slider.querySelector(".marks");
    slider.querySelector(".min").innerText = min;
    slider.querySelector(".max").innerText = max;

    function setValueElem() {
      valueElem.innerText = input.value;
      var percent = (input.value - min) / (max - min) * 100;
      valueElem.style.left = percent + "%";
    }

    setValueElem();
    input.addEventListener("input", setValueElem);
    input.addEventListener("mousedown", function () {
      valueElem.classList.add("up");
    });
    input.addEventListener("mouseup", function () {
      valueElem.classList.remove("up");
    });
    input.addEventListener("touchstart", function () {
      valueElem.classList.add("up");
    });
    input.addEventListener("touchend", function () {
      valueElem.classList.remove("up");
    });
    var sliderGuestValue = parseInt(input.value);
    var markups = max / sliderGuestValue;
    var generalValue = sliderGuestValue;

    for (var i = 1; i <= markups; i++) {
      var block = document.createElement('div');
      block.classList.add('markup');

      if (i != markups) {
        block.innerHTML = "<span>".concat(generalValue, "</span>");
      }

      slidersMarkUps.appendChild(block);
      generalValue = generalValue + sliderGuestValue;
    }
  });
  var calcReqInput = document.querySelectorAll('.request-input input');
  calcReqInput.forEach(function (input) {
    input.addEventListener("focus", function (e) {
      e.target.parentNode.classList.add('active');
    });
    input.addEventListener("blur", function (e) {
      e.target.parentNode.classList.remove('active');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlTWVudSIsInF1ZXJ5U2VsZWN0b3IiLCJzaWRlTWVudSIsIm92ZXJsYXkiLCJib2R5IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwibWVudUJ1cmdlclRvZ2dsZSIsInR5cGUiLCJyZW1vdmUiLCJ3aW5kb3ciLCJvcmRlckNhbGxCdG5zIiwicXVlcnlTZWxlY3RvckFsbCIsIm1vZGFsQ2xvc2VCdG5zIiwiZm9yRWFjaCIsImJ0biIsImUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiYWRkIiwibW9kYWxTdWJtaXRCdG4iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiY29ja3RhaWxMaXN0IiwibWl4aXR1cCIsImNsYXNzTmFtZXMiLCJibG9jayIsInNsaWRlcnMiLCJzbGlkZXIiLCJpbnB1dCIsIm1pbiIsImdldEF0dHJpYnV0ZSIsIm1heCIsInZhbHVlRWxlbSIsInNsaWRlcnNNYXJrVXBzIiwiaW5uZXJUZXh0Iiwic2V0VmFsdWVFbGVtIiwidmFsdWUiLCJwZXJjZW50Iiwic3R5bGUiLCJsZWZ0Iiwic2xpZGVyR3Vlc3RWYWx1ZSIsInBhcnNlSW50IiwibWFya3VwcyIsImdlbmVyYWxWYWx1ZSIsImkiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJjYWxjUmVxSW5wdXQiLCJwYXJlbnROb2RlIl0sIm1hcHBpbmdzIjoiOztBQUNBQSxRQUFRLENBQUNDLGdCQUFULENBQTBCLGtCQUExQixFQUE4QyxZQUFZO0FBRXpELE1BQU1DLFVBQVUsR0FBR0YsUUFBUSxDQUFDRyxhQUFULENBQXVCLGNBQXZCLENBQW5CO0FBQ0EsTUFBTUMsUUFBUSxHQUFHSixRQUFRLENBQUNHLGFBQVQsQ0FBdUIsa0JBQXZCLENBQWpCO0FBQ0EsTUFBTUUsT0FBTyxHQUFHTCxRQUFRLENBQUNHLGFBQVQsQ0FBdUIsVUFBdkIsQ0FBaEI7QUFDQSxNQUFNRyxJQUFJ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Q0FBdUIsTUFBdkIsRUFBK0IsVUFBQ2lCLENBQUQsRUFBTztBQUNyQ0EsTUFBQUEsQ0FBQyxDQUFDQyxNQUFGLENBQVNpQyxVQUFULENBQW9CN0MsU0FBcEIsQ0FBOEJJLE1BQTlCLENBQXFDLFFBQXJDO0FBQ0EsS0FGRDtBQUdBLEdBUEQ7QUFTQSxDQWhKRCIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG5cclxuXHRjb25zdCB0b2dnbGVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2dnbGUtbWVudVwiKVxyXG5cdGNvbnN0IHNpZGVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1zaWRlbWVudScpXHJcblx0Y29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvdmVybGF5JylcclxuXHRjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpXHJcblxyXG5cdHRvZ2dsZU1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXHJcblx0XHRzaWRlTWVudS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxyXG5cdFx0b3ZlcmxheS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxyXG5cdH0pXHJcblxyXG5cdGZ1bmN0aW9uIG1lbnVCdXJnZXJUb2dnbGUodHlwZSkge1xyXG5cclxuXHRcdGlmICh0eXBlID09PSBcInJlc2l6ZVwiKSB7XHJcblx0XHRcdHRvZ2dsZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRvZ2dsZU1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHQvL9Ch0LrRgNGL0YLRjCDQv9C+INC60LvQuNC60YMg0L7QstC10YDQu9C10Y9cclxuXHRvdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0bWVudUJ1cmdlclRvZ2dsZSgnY2xpY2snKVxyXG5cdFx0c2lkZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHRcdHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHRcdGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbm9TY3JvbGwnKVxyXG5cdH0pXHJcblx0c2lkZU1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRtZW51QnVyZ2VyVG9nZ2xlKCdjbGljaycpXHJcblx0XHR0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHRvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ25vU2Nyb2xsJylcclxuXHR9KVxyXG5cclxuXHQvL9Cg0LXRgdCw0LnQtyDQvtC60L3QsCwg0YPQsdGA0LDRgtGMINC+0LLQtdGA0LvQtdC5INC4INCx0YPRgNCz0LXRgFxyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRzaWRlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0dG9nZ2xlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0b3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0bWVudUJ1cmdlclRvZ2dsZSgncmVzaXplJylcclxuXHR9KVxyXG5cclxuXHQvL9CS0YvQt9C+0LIg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LBcclxuXHRjb25zdCBvcmRlckNhbGxCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uW2RhdGEtbWFrZWNhbGxdJylcclxuXHRjb25zdCBtb2RhbENsb3NlQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbltkYXRhLW1vZGFsY2xvc2VdJylcclxuXHRtb2RhbENsb3NlQnRucy5mb3JFYWNoKChidG4pID0+IHtcclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0fSlcclxuXHR9KVxyXG5cclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLXdyYXBwZXJcIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0aWYgKCFlLnRhcmdldC5jbG9zZXN0KCcubW9kYWwnKSkge1xyXG5cdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHR9XHJcblx0fSlcclxuXHJcblx0b3JkZXJDYWxsQnRucy5mb3JFYWNoKChidG4pID0+IHtcclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdFx0fSlcclxuXHR9KVxyXG5cclxuXHRjb25zdCBtb2RhbFN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2RhbF9fc3VibWl0JylcclxuXHRtb2RhbFN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcblx0fSlcclxuXHJcblx0Ly9taXhJdFVwIHBsdWdpblxyXG5cclxuXHRjb25zdCBjb2NrdGFpbExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvY2t0YWlscy1saXN0XCIpO1xyXG5cdGlmIChjb2NrdGFpbExpc3QpIHtcclxuXHRcdG1peGl0dXAoJyNjb2NrdGFpbHMtbGlzdCcsIHtcclxuXHRcdFx0Y2xhc3NOYW1lczoge1xyXG5cdFx0XHRcdGJsb2NrOiBcIlwiXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblxyXG5cdGNvbnN0IHNsaWRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlci11aVwiKVxyXG5cclxuXHJcblx0c2xpZGVycy5mb3JFYWNoKHNsaWRlciA9PiB7XHJcblx0XHRsZXQgaW5wdXQgPSBzbGlkZXIucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9cmFuZ2VdXCIpXHJcblx0XHRsZXQgbWluID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwibWluXCIpXHJcblx0XHRsZXQgbWF4ID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwibWF4XCIpXHJcblx0XHRsZXQgdmFsdWVFbGVtID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoXCIudmFsdWVcIilcclxuXHRcdGxldCBzbGlkZXJzTWFya1VwcyA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKFwiLm1hcmtzXCIpXHJcblxyXG5cdFx0c2xpZGVyLnF1ZXJ5U2VsZWN0b3IoXCIubWluXCIpLmlubmVyVGV4dCA9IG1pblxyXG5cdFx0c2xpZGVyLnF1ZXJ5U2VsZWN0b3IoXCIubWF4XCIpLmlubmVyVGV4dCA9IG1heFxyXG5cclxuXHRcdGZ1bmN0aW9uIHNldFZhbHVlRWxlbSgpIHtcclxuXHRcdFx0dmFsdWVFbGVtLmlubmVyVGV4dCA9IGlucHV0LnZhbHVlXHJcblx0XHRcdGxldCBwZXJjZW50ID0gKGlucHV0LnZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pICogMTAwXHJcblx0XHRcdHZhbHVlRWxlbS5zdHlsZS5sZWZ0ID0gcGVyY2VudCArIFwiJVwiXHJcblx0XHR9XHJcblx0XHRzZXRWYWx1ZUVsZW0oKVxyXG5cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBzZXRWYWx1ZUVsZW0pXHJcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IHtcclxuXHRcdFx0dmFsdWVFbGVtLmNsYXNzTGlzdC5hZGQoXCJ1cFwiKTtcclxuXHRcdH0pO1xyXG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKCkgPT4ge1xyXG5cdFx0XHR2YWx1ZUVsZW0uY2xhc3NMaXN0LnJlbW92ZShcInVwXCIpO1xyXG5cdFx0fSk7XHJcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCAoKSA9PiB7XHJcblx0XHRcdHZhbHVlRWxlbS5jbGFzc0xpc3QuYWRkKFwidXBcIik7XHJcblx0XHR9KTtcclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCAoKSA9PiB7XHJcblx0XHRcdHZhbHVlRWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwidXBcIik7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCBzbGlkZXJHdWVzdFZhbHVlID0gcGFyc2VJbnQoaW5wdXQudmFsdWUpXHJcblx0XHRjb25zdCBtYXJrdXBzID0gbWF4IC8gc2xpZGVyR3Vlc3RWYWx1ZVxyXG5cdFx0bGV0IGdlbmVyYWxWYWx1ZSA9IHNsaWRlckd1ZXN0VmFsdWVcclxuXHRcdGZvciAobGV0IGkgPSAxOyBpIDw9IG1hcmt1cHM7IGkrKykge1xyXG5cclxuXHRcdFx0bGV0IGJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHRcdFx0YmxvY2suY2xhc3NMaXN0LmFkZCgnbWFya3VwJylcclxuXHRcdFx0aWYgKGkgIT0gbWFya3Vwcykge1xyXG5cdFx0XHRcdGJsb2NrLmlubmVySFRNTCA9IGA8c3Bhbj4ke2dlbmVyYWxWYWx1ZX08L3NwYW4+YFxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzbGlkZXJzTWFya1Vwcy5hcHBlbmRDaGlsZChibG9jaylcclxuXHRcdFx0Z2VuZXJhbFZhbHVlID0gZ2VuZXJhbFZhbHVlICsgc2xpZGVyR3Vlc3RWYWx1ZVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRjb25zdCBjYWxjUmVxSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVxdWVzdC1pbnB1dCBpbnB1dCcpXHJcblxyXG5cdGNhbGNSZXFJbnB1dC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIChlKSA9PiB7XHJcblx0XHRcdGUudGFyZ2V0LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHRcdH0pXHJcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCAoZSkgPT4ge1xyXG5cdFx0XHRlLnRhcmdldC5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHR9KVxyXG5cdH0pXHJcblxyXG59KSJdLCJmaWxlIjoibWFpbi5qcyJ9
