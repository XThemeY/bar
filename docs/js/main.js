"use strict";

document.addEventListener('DOMContentLoaded', function () {
  var toggleMenu = document.querySelector(".toggle-menu");
  var sideMenu = document.querySelector('.header-sidemenu');
  var overlay = document.querySelector('#overlay');
  var body = document.querySelector('body');
  toggleMenu.addEventListener('click', function () {
    this.classList.toggle('active');
    sideMenu.classList.toggle('active');
    overlay.classList.toggle('active');
  });

  function menuBurgerToggle(type) {
    if (type === "resize") {
      toggleMenu.classList.remove('active');
    } else {
      toggleMenu.classList.toggle('active');
    }
  } //Скрыть по клику оверлея


  overlay.addEventListener('click', function () {
    menuBurgerToggle('click');
    sideMenu.classList.remove('active');
    this.classList.remove('active');
    body.classList.remove('noScroll');
  });
  sideMenu.addEventListener('click', function () {
    menuBurgerToggle('click');
    this.classList.remove('active');
    overlay.classList.remove('active');
    body.classList.remove('noScroll');
  }); //Ресайз окна, убрать оверлей и бургер

  window.addEventListener('resize', function () {
    sideMenu.classList.remove('active');
    toggleMenu.classList.remove('active');
    overlay.classList.remove('active');
    menuBurgerToggle('resize');
  }); //Вызов модального окна

  var orderCallBtns = document.querySelectorAll('button[data-makecall]');
  var modalCloseBtns = document.querySelectorAll('button[data-modalclose]');
  modalCloseBtns.forEach(function (btn) {
    btn.addEventListener('click', function () {
      document.querySelector('.modal-wrapper').classList.remove('active');
    });
  });
  document.querySelector(".modal-wrapper").addEventListener('click', function (e) {
    if (!e.target.closest('.modal')) {
      document.querySelector('.modal-wrapper').classList.remove('active');
    }
  });
  orderCallBtns.forEach(function (btn) {
    btn.addEventListener('click', function () {
      document.querySelector('.modal-wrapper').classList.add('active');
    });
  });
  var modalSubmitBtn = document.querySelector('#modal__submit');
  modalSubmitBtn.addEventListener("click", function (event) {
    event.preventDefault();
  }); //mixItUp plugin

  var cocktailList = document.querySelector("#cocktails-list");

  if (cocktailList) {
    mixitup('#cocktails-list', {
      classNames: {
        block: ""
      }
    });
  }

  var sliders = document.querySelectorAll(".slider-ui");
  sliders.forEach(function (slider) {
    var input = slider.querySelector("input[type=range]");
    var min = input.getAttribute("min");
    var max = input.getAttribute("max");
    var valueElem = slider.querySelector(".value");
    var slidersMarkUps = slider.querySelector(".marks");
    slider.querySelector(".min").innerText = min;
    slider.querySelector(".max").innerText = max;

    function setValueElem() {
      valueElem.innerText = input.value;
      var percent = (input.value - min) / (max - min) * 100;
      valueElem.style.left = percent + "%";
    }

    setValueElem();
    input.addEventListener("input", setValueElem);
    input.addEventListener("mousedown", function () {
      valueElem.classList.add("up");
    });
    input.addEventListener("mouseup", function () {
      valueElem.classList.remove("up");
    });
    input.addEventListener("touchstart", function () {
      valueElem.classList.add("up");
    });
    input.addEventListener("touchend", function () {
      valueElem.classList.remove("up");
    });
    var sliderGuestValue = parseInt(input.value);
    var markups = max / sliderGuestValue;
    var generalValue = sliderGuestValue;

    for (var i = 1; i <= markups; i++) {
      var block = document.createElement('div');
      block.classList.add('markup');

      if (i != markups) {
        block.innerHTML = "<span>".concat(generalValue, "</span>");
      }

      slidersMarkUps.appendChild(block);
      generalValue = generalValue + sliderGuestValue;
    }
  });
  var calcReqInput = document.querySelectorAll('.request-input input');
  calcReqInput.forEach(function (input) {
    input.addEventListener("focus", function (e) {
      e.target.parentNode.classList.add('active');
    });
    input.addEventListener("blur", function (e) {
      e.target.parentNode.classList.remove('active');
    });
  });
  $(".owl-carousel").owlCarousel({
    loop: true,
    nav: false,
    singleItem: true
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlTWVudSIsInF1ZXJ5U2VsZWN0b3IiLCJzaWRlTWVudSIsIm92ZXJsYXkiLCJib2R5IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwibWVudUJ1cmdlclRvZ2dsZSIsInR5cGUiLCJyZW1vdmUiLCJ3aW5kb3ciLCJvcmRlckNhbGxCdG5zIiwicXVlcnlTZWxlY3RvckFsbCIsIm1vZGFsQ2xvc2VCdG5zIiwiZm9yRWFjaCIsImJ0biIsImUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiYWRkIiwibW9kYWxTdWJtaXRCdG4iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiY29ja3RhaWxMaXN0IiwibWl4aXR1cCIsImNsYXNzTmFtZXMiLCJibG9jayIsInNsaWRlcnMiLCJzbGlkZXIiLCJpbnB1dCIsIm1pbiIsImdldEF0dHJpYnV0ZSIsIm1heCIsInZhbHVlRWxlbSIsInNsaWRlcnNNYXJrVXBzIiwiaW5uZXJUZXh0Iiwic2V0VmFsdWVFbGVtIiwidmFsdWUiLCJwZXJjZW50Iiwic3R5bGUiLCJsZWZ0Iiwic2xpZGVyR3Vlc3RWYWx1ZSIsInBhcnNlSW50IiwibWFya3VwcyIsImdlbmVyYWxWYWx1ZSIsImkiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJjYWxjUmVxSW5wdXQiLCJwYXJlbnROb2RlIiwiJCIsIm93bENhcm91c2VsIiwibG9vcCIsIm5hdiIsInNpbmdsZUl0ZW0iXSwibWFwcGluZ3MiOiI7O0FBQ0FBLFFBQVEsQ0FBQ0MsZ0JBQVQsQ0FBMEIsa0JBQTFCLEVBQThDLFlBQVk7QUFFekQsTUFBTUMsVUFBVSxHQUFHRixRQUFRLENBQUNHLGFBQVQsQ0FBdUIsY0FBdkIsQ0FBbkI7QUFDQSxNQUFNQyxRQUFRLEdBQUdKLFFBQVEsQ0FBQ0csYUFBVCxDQUF1QixrQkFBdkIsQ0FBakI7QUFDQSxNQUFNRSxPQUFPLEdBQUdMLFFBQVEs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QWxDO0FBQ0EsS0FGRDtBQUdBVSxJQUFBQSxLQUFLLENBQUM5QixnQkFBTixDQUF1QixNQUF2QixFQUErQixVQUFDaUIsQ0FBRCxFQUFPO0FBQ3JDQSxNQUFBQSxDQUFDLENBQUNDLE1BQUYsQ0FBU2lDLFVBQVQsQ0FBb0I3QyxTQUFwQixDQUE4QkksTUFBOUIsQ0FBcUMsUUFBckM7QUFDQSxLQUZEO0FBR0EsR0FQRDtBQVNBMEMsRUFBQUEsQ0FBQyxDQUFDLGVBQUQsQ0FBRCxDQUFtQkMsV0FBbkIsQ0FBK0I7QUFDOUJDLElBQUFBLElBQUksRUFBRSxJQUR3QjtBQUU5QkMsSUFBQUEsR0FBRyxFQUFFLEtBRnlCO0FBRzlCQyxJQUFBQSxVQUFVLEVBQUU7QUFIa0IsR0FBL0I7QUFLQSxDQXJKRCIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG5cclxuXHRjb25zdCB0b2dnbGVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2dnbGUtbWVudVwiKVxyXG5cdGNvbnN0IHNpZGVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1zaWRlbWVudScpXHJcblx0Y29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvdmVybGF5JylcclxuXHRjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpXHJcblxyXG5cdHRvZ2dsZU1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXHJcblx0XHRzaWRlTWVudS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxyXG5cdFx0b3ZlcmxheS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxyXG5cdH0pXHJcblxyXG5cdGZ1bmN0aW9uIG1lbnVCdXJnZXJUb2dnbGUodHlwZSkge1xyXG5cclxuXHRcdGlmICh0eXBlID09PSBcInJlc2l6ZVwiKSB7XHJcblx0XHRcdHRvZ2dsZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRvZ2dsZU1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHQvL9Ch0LrRgNGL0YLRjCDQv9C+INC60LvQuNC60YMg0L7QstC10YDQu9C10Y9cclxuXHRvdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0bWVudUJ1cmdlclRvZ2dsZSgnY2xpY2snKVxyXG5cdFx0c2lkZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHRcdHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHRcdGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbm9TY3JvbGwnKVxyXG5cdH0pXHJcblx0c2lkZU1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRtZW51QnVyZ2VyVG9nZ2xlKCdjbGljaycpXHJcblx0XHR0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHRvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ25vU2Nyb2xsJylcclxuXHR9KVxyXG5cclxuXHQvL9Cg0LXRgdCw0LnQtyDQvtC60L3QsCwg0YPQsdGA0LDRgtGMINC+0LLQtdGA0LvQtdC5INC4INCx0YPRgNCz0LXRgFxyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRzaWRlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0dG9nZ2xlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0b3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0bWVudUJ1cmdlclRvZ2dsZSgncmVzaXplJylcclxuXHR9KVxyXG5cclxuXHQvL9CS0YvQt9C+0LIg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LBcclxuXHRjb25zdCBvcmRlckNhbGxCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uW2RhdGEtbWFrZWNhbGxdJylcclxuXHRjb25zdCBtb2RhbENsb3NlQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbltkYXRhLW1vZGFsY2xvc2VdJylcclxuXHRtb2RhbENsb3NlQnRucy5mb3JFYWNoKChidG4pID0+IHtcclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0fSlcclxuXHR9KVxyXG5cclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLXdyYXBwZXJcIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0aWYgKCFlLnRhcmdldC5jbG9zZXN0KCcubW9kYWwnKSkge1xyXG5cdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHR9XHJcblx0fSlcclxuXHJcblx0b3JkZXJDYWxsQnRucy5mb3JFYWNoKChidG4pID0+IHtcclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdFx0fSlcclxuXHR9KVxyXG5cclxuXHRjb25zdCBtb2RhbFN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2RhbF9fc3VibWl0JylcclxuXHRtb2RhbFN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcblx0fSlcclxuXHJcblx0Ly9taXhJdFVwIHBsdWdpblxyXG5cclxuXHRjb25zdCBjb2NrdGFpbExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvY2t0YWlscy1saXN0XCIpO1xyXG5cdGlmIChjb2NrdGFpbExpc3QpIHtcclxuXHRcdG1peGl0dXAoJyNjb2NrdGFpbHMtbGlzdCcsIHtcclxuXHRcdFx0Y2xhc3NOYW1lczoge1xyXG5cdFx0XHRcdGJsb2NrOiBcIlwiXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblxyXG5cdGNvbnN0IHNsaWRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlci11aVwiKVxyXG5cclxuXHJcblx0c2xpZGVycy5mb3JFYWNoKHNsaWRlciA9PiB7XHJcblx0XHRsZXQgaW5wdXQgPSBzbGlkZXIucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9cmFuZ2VdXCIpXHJcblx0XHRsZXQgbWluID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwibWluXCIpXHJcblx0XHRsZXQgbWF4ID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwibWF4XCIpXHJcblx0XHRsZXQgdmFsdWVFbGVtID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoXCIudmFsdWVcIilcclxuXHRcdGxldCBzbGlkZXJzTWFya1VwcyA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKFwiLm1hcmtzXCIpXHJcblxyXG5cdFx0c2xpZGVyLnF1ZXJ5U2VsZWN0b3IoXCIubWluXCIpLmlubmVyVGV4dCA9IG1pblxyXG5cdFx0c2xpZGVyLnF1ZXJ5U2VsZWN0b3IoXCIubWF4XCIpLmlubmVyVGV4dCA9IG1heFxyXG5cclxuXHRcdGZ1bmN0aW9uIHNldFZhbHVlRWxlbSgpIHtcclxuXHRcdFx0dmFsdWVFbGVtLmlubmVyVGV4dCA9IGlucHV0LnZhbHVlXHJcblx0XHRcdGxldCBwZXJjZW50ID0gKGlucHV0LnZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pICogMTAwXHJcblx0XHRcdHZhbHVlRWxlbS5zdHlsZS5sZWZ0ID0gcGVyY2VudCArIFwiJVwiXHJcblx0XHR9XHJcblx0XHRzZXRWYWx1ZUVsZW0oKVxyXG5cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBzZXRWYWx1ZUVsZW0pXHJcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IHtcclxuXHRcdFx0dmFsdWVFbGVtLmNsYXNzTGlzdC5hZGQoXCJ1cFwiKTtcclxuXHRcdH0pO1xyXG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKCkgPT4ge1xyXG5cdFx0XHR2YWx1ZUVsZW0uY2xhc3NMaXN0LnJlbW92ZShcInVwXCIpO1xyXG5cdFx0fSk7XHJcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCAoKSA9PiB7XHJcblx0XHRcdHZhbHVlRWxlbS5jbGFzc0xpc3QuYWRkKFwidXBcIik7XHJcblx0XHR9KTtcclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCAoKSA9PiB7XHJcblx0XHRcdHZhbHVlRWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwidXBcIik7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCBzbGlkZXJHdWVzdFZhbHVlID0gcGFyc2VJbnQoaW5wdXQudmFsdWUpXHJcblx0XHRjb25zdCBtYXJrdXBzID0gbWF4IC8gc2xpZGVyR3Vlc3RWYWx1ZVxyXG5cdFx0bGV0IGdlbmVyYWxWYWx1ZSA9IHNsaWRlckd1ZXN0VmFsdWVcclxuXHRcdGZvciAobGV0IGkgPSAxOyBpIDw9IG1hcmt1cHM7IGkrKykge1xyXG5cclxuXHRcdFx0bGV0IGJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHRcdFx0YmxvY2suY2xhc3NMaXN0LmFkZCgnbWFya3VwJylcclxuXHRcdFx0aWYgKGkgIT0gbWFya3Vwcykge1xyXG5cdFx0XHRcdGJsb2NrLmlubmVySFRNTCA9IGA8c3Bhbj4ke2dlbmVyYWxWYWx1ZX08L3NwYW4+YFxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzbGlkZXJzTWFya1Vwcy5hcHBlbmRDaGlsZChibG9jaylcclxuXHRcdFx0Z2VuZXJhbFZhbHVlID0gZ2VuZXJhbFZhbHVlICsgc2xpZGVyR3Vlc3RWYWx1ZVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRjb25zdCBjYWxjUmVxSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVxdWVzdC1pbnB1dCBpbnB1dCcpXHJcblxyXG5cdGNhbGNSZXFJbnB1dC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIChlKSA9PiB7XHJcblx0XHRcdGUudGFyZ2V0LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHRcdH0pXHJcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCAoZSkgPT4ge1xyXG5cdFx0XHRlLnRhcmdldC5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHR9KVxyXG5cdH0pXHJcblxyXG5cdCQoXCIub3dsLWNhcm91c2VsXCIpLm93bENhcm91c2VsKHtcclxuXHRcdGxvb3A6IHRydWUsXHJcblx0XHRuYXY6IGZhbHNlLFxyXG5cdFx0c2luZ2xlSXRlbTogdHJ1ZVxyXG5cdH0pO1xyXG59KSJdLCJmaWxlIjoibWFpbi5qcyJ9
